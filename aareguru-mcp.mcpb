{
  "$schema": "https://mcpblueprint.org/schema/v1",
  "name": "aareguru-mcp",
  "version": "1.0.0",
  "description": "MCP server for Swiss Aare river data - water temperature, flow rates, safety assessments, and swimming conditions",
  "author": {
    "name": "Andreas Schlapbach",
    "email": "schlpbch@gmail.com"
  },
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/schlpbch/aareguru-mcp"
  },
  "homepage": "https://aare.guru/",
  "keywords": [
    "mcp",
    "aare",
    "switzerland",
    "river",
    "swimming",
    "temperature",
    "water",
    "safety"
  ],
  "runtime": {
    "python": ">=3.10"
  },
  "dependencies": {
    "fastmcp": ">=2.0.0",
    "httpx": ">=0.27.0",
    "pydantic": ">=2.0.0"
  },
  "servers": {
    "stdio": {
      "command": "uv",
      "args": ["run", "aareguru-mcp"],
      "description": "Run via stdio transport (for Claude Desktop)"
    },
    "http": {
      "command": "uv",
      "args": ["run", "aareguru-mcp-http"],
      "description": "Run via HTTP/SSE transport",
      "port": 8000
    },
    "remote": {
      "url": "https://aareguru.fastmcp.app/mcp",
      "description": "FastMCP Cloud hosted server (no local installation required)"
    }
  },
  "tools": [
    {
      "name": "get_current_temperature",
      "description": "Get current water temperature for a city with Swiss German descriptions",
      "parameters": {
        "city": {
          "type": "string",
          "default": "bern",
          "description": "City identifier (e.g., 'bern', 'thun', 'basel', 'olten')"
        }
      }
    },
    {
      "name": "get_current_conditions",
      "description": "Get comprehensive swimming conditions including temperature, flow, weather, and forecast",
      "parameters": {
        "city": {
          "type": "string",
          "default": "bern",
          "description": "City identifier"
        }
      }
    },
    {
      "name": "get_historical_data",
      "description": "Get historical temperature and flow data for trend analysis",
      "parameters": {
        "city": {
          "type": "string",
          "required": true,
          "description": "City identifier"
        },
        "start": {
          "type": "string",
          "required": true,
          "description": "Start date (ISO format, Unix timestamp, or '-7 days')"
        },
        "end": {
          "type": "string",
          "required": true,
          "description": "End date (ISO format, Unix timestamp, or 'now')"
        }
      }
    },
    {
      "name": "list_cities",
      "description": "List all available cities with current temperature data",
      "parameters": {}
    },
    {
      "name": "get_flow_danger_level",
      "description": "Get flow rate and BAFU safety assessment for swimming",
      "parameters": {
        "city": {
          "type": "string",
          "default": "bern",
          "description": "City identifier"
        }
      }
    },
    {
      "name": "compare_cities",
      "description": "Compare water conditions across multiple cities",
      "parameters": {
        "cities": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of cities to compare (default: all cities)"
        }
      }
    },
    {
      "name": "get_forecast",
      "description": "Get temperature and flow forecast",
      "parameters": {
        "city": {
          "type": "string",
          "default": "bern",
          "description": "City identifier"
        },
        "hours": {
          "type": "integer",
          "default": 2,
          "description": "Forecast horizon in hours"
        }
      }
    }
  ],
  "resources": [
    {
      "uri": "aareguru://cities",
      "name": "Available Cities",
      "description": "List of all cities with Aare data available",
      "mimeType": "application/json"
    },
    {
      "uri": "aareguru://widget",
      "name": "All Cities Overview",
      "description": "Current data for all cities at once",
      "mimeType": "application/json"
    },
    {
      "uri": "aareguru://current/{city}",
      "name": "Current Conditions",
      "description": "Complete current conditions for a specific city",
      "mimeType": "application/json"
    },
    {
      "uri": "aareguru://today/{city}",
      "name": "Today's Summary",
      "description": "Minimal current data for a specific city",
      "mimeType": "application/json"
    }
  ],
  "prompts": [
    {
      "name": "daily_swimming_report",
      "description": "Generate a comprehensive daily swimming report for a city",
      "parameters": {
        "city": {
          "type": "string",
          "default": "bern",
          "description": "City to generate report for"
        }
      }
    },
    {
      "name": "compare_swimming_spots",
      "description": "Compare all available swimming locations to find the best spot",
      "parameters": {}
    },
    {
      "name": "weekly_trend_analysis",
      "description": "Analyze temperature and flow trends over the past week",
      "parameters": {
        "city": {
          "type": "string",
          "default": "bern",
          "description": "City to analyze"
        }
      }
    }
  ],
  "examples": [
    {
      "title": "Check water temperature",
      "query": "What's the water temperature in Bern?",
      "tool": "get_current_temperature"
    },
    {
      "title": "Safety assessment",
      "query": "Is it safe to swim in the Aare today?",
      "tool": "get_flow_danger_level"
    },
    {
      "title": "Find warmest location",
      "query": "Which city has the warmest water right now?",
      "tool": "compare_cities"
    },
    {
      "title": "Weekly trends",
      "query": "How has the temperature changed this week?",
      "tool": "get_historical_data"
    }
  ],
  "configuration": {
    "environment": {
      "AAREGURU_BASE_URL": {
        "description": "Base URL for Aareguru API",
        "default": "https://aareguru.existenz.ch/v2018"
      },
      "CACHE_TTL_SECONDS": {
        "description": "Cache time-to-live in seconds",
        "default": "120"
      },
      "HTTP_PORT": {
        "description": "Port for HTTP server",
        "default": "8000"
      }
    }
  }
}
